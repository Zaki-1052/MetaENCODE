# meta-encode/environment.yml
# Conda environment for MetaENCODE on Linux HPC
#
# Usage:
#   conda env create -f environment.yml
#   conda activate meta-encode
#   pip install -e .  # Install package in editable mode
#
# For GPU support (if available on HPC):
#   conda install pytorch pytorch-cuda=12.1 -c pytorch -c nvidia

name: meta-encode
channels:
  - conda-forge
  - pytorch
  - defaults

dependencies:
  # Python version
  - python>=3.10,<3.13

  # Core scientific stack (conda)
  - numpy>=1.24.0
  - pandas>=2.0.0
  - scikit-learn>=1.3.0

  # PyTorch CPU (override with GPU version if needed)
  - pytorch>=2.0.0
  - cpuonly

  # Visualization
  - plotly>=5.18.0

  # Utilities
  - requests>=2.31.0
  - python-dotenv>=1.0.0

  # Build tools
  - pip
  - setuptools
  - wheel

  # Pip-only packages
  - pip:
      # Streamlit (not well maintained on conda)
      - streamlit>=1.28.0

      # ML/Embeddings (pip has latest versions)
      - sentence-transformers>=2.2.0
      - umap-learn>=0.5.4

      # Dev dependencies (optional, comment out if not needed)
      - pytest>=7.4.0
      - pytest-cov>=4.1.0
      - black>=23.0.0
      - isort>=5.12.0
      - flake8>=6.1.0
      - mypy>=1.5.0
